# **Стиль кода C Sharp**

## **Конвенция именования**
Используйте формат **UpperCamelCase** для именования всех классов, структур, методов, свойств, событий и констант.
Используйте формат **lowerCamelCase** для именования локальных переменных и параметров, передаваемых в метод.
Имена интерфейсов должны иметь префикс "**I**".
Приватные поля (в том числе статические) должны иметь префикс "**_**".
При именовании кастомного исключения использовать суффикс **Exception**.
Имя файла должно совпадать с именем класса, который в нем содержится.


| **Сущность** | **Правило** |
|--|--|
| Классы, структуры, неймспейсы | **UpperCamelCase** |
| Интерфейсы | **IUpperCamelCase** |
| Методы, свойства, события | **UpperCamelCase** |
| Локальные переменные | **lowerCamelCase** |
| Параметры, передаваемые в метод | **lowerCamelCase** |
| Поля (не private) | **UpperCamelCase** |
| Приватные поля | **_lowerCamelCase** |
| Статические приватные поля | **_lowerCamelCase** |
| Приватные и не приватные константы класса | **UpperCamelCase** |
| Статические поля только для чтения (приватные и не приватные) | **UpperCamelCase** |

## Стиль
### Перенос строк
1. Длинные строки следует переносить на следующую строку. Рекомендуемая максимальная длина строки - 180 символов.
2. Если у метода много параметров, то каждый параметр следует разместить на отдельной строчке.

```
void SomeMethod(int p1,
                int p2,
                int p3,
                int p4)
```

3. Если цепочка вызовов методов слишком большая, то расположить вызов каждого метода на отдельной строке.


```
obj.Method()
    .Method()
    .Method()
    .Method()
    .Method();
```


4. Если тернарный оператор слишком длинный, его следует перенести на другую строку следующим образом:
`
myField = someCondition ? true : false;
`

5. Размещать абстрактные/автоматические свойства/индексы/события на одной строке.

```
interface I
{
   int Property { get; set; }
}
```

6. Размещать простые методы доступа на одно строке.

```
class C
{
   private int Property
    {
        set { x = value; }
        get
        {
           if (condition)
           {
              return x;
           }
        }
    }
}
```

### Пустые строки и пробелы
TODO: описание будет добавлено.

## Общие рекомендации по написанию кода
1. Избегайте сокращений. Предпочитайте длинное и понятное имя переменной (метода, свойства и т.д.) короткому и непонятному.
2. Избегайте определения нескольких классов в одном файле. Исключение: связанные классы.
3. Избегайте классов более 500 строк кода.
4. Избегайте методов более 100 строк кода.
5. Избегайте методов с более чем 5 параметрами.
6. Написанный код - лучший комментарий. Если у вас появилось желание (необходимость) прокомментировать ваш код - с большой долей вероятности нужно исправить код.
7. Если метод возвращает список, массив и т.д., предпочтительнее возвращать пустой список, нежели null.
8. Избегайте пустых блоков catch при обработке исключений.
9. Избегайте большого количества if. Если в коде появляется такой участок кода, это верный знак, что код пора рефакторить.
10. Наследуйте кастомные исключения от класса Exception.
11. Изначально определяйте все сущность с уровнем доступа private. Только если появляется необходимость, изменяйте уровень доступа.
12. При определении типа параметра предпочтительнее использовать интерфейс, нежели конкретный класс. В указанном примере ниже методу неважно, передают в него массив или список. Так что если в приложении будет принято решение оперировать списками вместо массивов, потребуется минимальное количество изменений.

```
public void DoSomething(IList<User> users)
{
...
}

public void DoSomething(User[] users)
{
...
}
```

13. При определении типа возвращаемого значения предпочтительно использовать класс вместо интерфейса.
14. Вместо полей уровня доступа public используйте свойства.
15. Избегайте статических классов или классов, имеющих только статические свойства (DI).
16. Используйте string.Empty вместо вместо "".
17. Избегайте использования ключевого слова this.
18. При работе с linq запросам будьте аккуратны. Всегда проверяйте, сколько запросов к БД генерирует тот или иной linq-запрос.
19. Определяйте локальную переменную непосредственно перед ее использованием.
20. Все сервисы должны быть задокументированы. Если метод задокументирован, то должны быть задокументированы все параметры, передаваемые в этот метод.

## Очередность определения сущностей
- [ ] **Сущности:**
1. Constant Fields
1. Fields
1. Constructors
1. Finalizers (Destructors)
1. Delegates
1. Events
1. Properties
1. Indexers
1. Methods
1. Structs
1. Classes
- [ ] **Области видимости сущностей:**
1. private
1. protected
1. protected internal
1. internal
1. public

- [ ] **Области видимости методов:**
1. public
1. internal
1. protected internal
1. protected
1. private

[Главная](index)